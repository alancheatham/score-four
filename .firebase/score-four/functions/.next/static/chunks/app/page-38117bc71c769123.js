(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9502:function(e,t,n){Promise.resolve().then(n.bind(n,4100))},1254:function(e,t,n){"use strict";n.d(t,{A:function(){return u},I:function(){return o},db:function(){return s}});var r=n(994),i=n(4086),c=n(3085);let a=(0,r.ZF)({apiKey:"AIzaSyD9eYEtwrIUPDp4b_4x_e1zset6SmIpt_I",authDomain:"score-four.firebaseapp.com",projectId:"score-four",storageBucket:"485195295425",messagingSenderId:"1:485195295425:web:07b44dbcecb811a6014240",appId:"G-RNN3F03DQJ"}),s=(0,i.ad)(a),o=(0,c.v0)(a),u=new c.hJ},4811:function(e,t,n){"use strict";n.d(t,{BQ:function(){return a},am:function(){return s}});var r=n(1254),i=n(4086),c=n(9884);function a(e){let t=(0,i.IO)((0,i.hJ)(r.db,"games"),(0,i.ar)("status","==",c.Rl));(0,i.cf)(t,t=>{let n=[];t.forEach(e=>{n.push({id:e.id,...e.data()})}),e(n)})}function s(e,t){(0,i.cf)((0,i.JU)(r.db,"games",e),e=>{t({id:e.id,...e.data()})})}},8707:function(e,t,n){"use strict";n.d(t,{Ss:function(){return o},dz:function(){return u},nY:function(){return s}});var r=n(1254),i=n(4086),c=n(5548),a=n(9884);async function s(e){await (0,i.pl)((0,i.JU)(r.db,"games",e),{whitePlayer:{uid:r.I.currentUser.uid,displayName:r.I.currentUser.displayName},status:a.Bj},{merge:!0})}async function o(e,t,n){let c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];console.log(c,s),(0,i.r7)((0,i.JU)(r.db,"games",e),{moves:(0,i.vr)({lastMove:t,position:JSON.stringify(n)}),...c?{winner:c,winningPegs:s,status:a.Qc}:{}})}async function u(){let e=(0,c.W)(),t=await (0,i.pl)((0,i.JU)(r.db,"games",e),{moves:[{move:null,position:JSON.stringify(Array(64).fill(0))}],status:a.Rl,blackPlayer:{uid:r.I.currentUser.uid,displayName:r.I.currentUser.displayName},whitePlayer:null,winner:null,winningPegs:[]});return console.log(t),e}n(4811)},4100:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(7437),i=n(2265),c=n(8707),a=n(4811);function s(){let e=(0,i.useRef)(!1),[t,n]=(0,i.useState)([]);(0,i.useEffect)(()=>{e.current||((0,a.BQ)(e=>{console.log(e),n(e)}),e.current=!0)},[e]);let s=async()=>{let e=await (0,c.dz)();location.href="/".concat(e)},o=async e=>{await (0,c.nY)(e),location.href="/".concat(e)};return(0,r.jsxs)("main",{className:"flex min-h-screen flex-col items-center p-24",children:[(0,r.jsx)("div",{className:"text-5xl text-white",children:"SCORE FOUR"}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:"text-xl p-1 border-2 text-white rounded hover:opacity-50 m-12",onClick:s,children:"New Game"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-white",children:"Available Games"}),t.map((e,t)=>(0,r.jsxs)("button",{className:"text-white text-center border-2 p-1 rounded hover:opacity-50",onClick:()=>o(e.id),children:["Open Game ",e.blackPlayer.displayName]},"game-".concat(t)))]})]})}},9884:function(e,t,n){"use strict";n.d(t,{Bj:function(){return i},Qc:function(){return c},Rl:function(){return r}});let r="AVAILABLE",i="IN_PROGRESS",c="COMPLETED"},5548:function(e,t,n){"use strict";n.d(t,{W:function(){return r},c:function(){return i}});let r=()=>{let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";return Array.from({length:15},()=>e.charAt(Math.floor(Math.random()*e.length))).join("")},i=e=>{let t=["a","b","c","d"][e%4];return"".concat(t).concat(4-Math.floor(e/4))}}},function(e){e.O(0,[358,214,647,971,864,744],function(){return e(e.s=9502)}),_N_E=e.O()}]);