(()=>{var e={};e.id=531,e.ids=[531],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},7740:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>f,routeModule:()=>g,tree:()=>c});var s=r(3137),n=r(4647),i=r(4183),o=r.n(i),l=r(1775),a={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>l[e]);r.d(t,a);let u=s.AppPageRouteModule,c=["",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9219)),"/Users/alan/programming/score-four/src/app/[id]/page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,6543)),"/Users/alan/programming/score-four/src/app/layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,1918,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],f=["/Users/alan/programming/score-four/src/app/[id]/page.js"],d="/[id]/page",p={require:r,loadChunk:()=>Promise.resolve()},g=new u({definition:{kind:n.x.APP_PAGE,page:"/[id]/page",pathname:"/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8143:(e,t,r)=>{Promise.resolve().then(r.bind(r,286))},286:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(80);r(2451);var n=r(9885),i=r(2068),o=r.n(i);function l(e,t,r){if(0===e)return!1;if(0===r)t.push(e);else{if(e!==t[r-1])return!1;if(3===r)return 1==e?"W":"B";t.push(e)}}let a=new(o())("1e06bf145be2669ab894",{cluster:"us2"});function u({beads:e,onPegClick:t,className:r}){return s.jsx("div",{className:`bg-gray-400 rounded w-8 h-28 flex flex-col-reverse items-center justify-start overflow-hidden ${r}`,onClick:t,children:e.filter(e=>0!==e).map((e,t)=>s.jsx("div",{className:`w-full h-6 ${1===e?"bg-white":"bg-black"}`},`bead-${t}`))})}function c({board:e,onPegClick:t,winningPegs:r,myTurn:n}){let i=[];for(let t=0;t<16;t++)i.push(e.slice(4*t,4*t+4));return s.jsx("div",{className:"grid grid-cols-4 grid-rows-4 gap-10",children:i.map((e,i)=>s.jsx(u,{beads:e,onPegClick:()=>t(i),className:`${r.length>0&&!r.includes(i)&&"opacity-50"} ${n&&!e.find(e=>0===e)&&"cursor-pointer"}`},`peg-${i}`))})}function f(e){console.log(e);let[t,r]=(0,n.useState)(Array(64).fill(0)),[i,o]=(0,n.useState)(""),[u,f]=(0,n.useState)([]),[d,p]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let e=a.subscribe("score-four");return e.bind("move",e=>{let{board:t,winnerInfo:s}=e.message;r(t),p(!0),s&&(f(s.winningPegs),o(s.winner))}),e.bind("new-game",e=>{let{board:t}=e.message;p(!0)}),()=>{a.unsubscribe("score-four")}},[t]),s.jsx("main",{className:"flex min-h-screen flex-col items-center justify-between p-24",children:(0,s.jsxs)("div",{className:`relative ${"W"===i?"text-white":"B"===i?"text-black":""}`,children:[i?s.jsx("div",{className:"text-6xl absolute text-center w-full left-1/2",style:{top:"-70px",transform:"translateX(-50%)"},children:i}):s.jsx("div",{className:`text-xl absolute text-center w-full left-1/2 ${!d&&"text-white"}`,style:{top:"-50px",transform:"translateX(-50%)"},children:d?"You":"Computer"}),s.jsx("div",{children:s.jsx(c,{board:t,onPegClick:e=>{let s=[...t],n=s.slice(4*e,4*e+4),i=n.findIndex(e=>0===e);if(!d||-1===i)return;p(!1),fetch("/api",{method:"POST",body:JSON.stringify({message:{type:"move",slot:4*e+i},sender:"player"}),headers:{"Content-Type":"application/json"}}),s[4*e+i]=d?-1:1,r(s);let a=function(e){if(16!==e.length){let t=[];for(let r=0;r<16;r++)t.push(e.slice(4*r,4*r+4));e=t}let t="";return(t=function(e){let t=[];for(let r=0;r<4;r++)for(let s=0;s<4;s++)for(let n=0;n<4;n++){let i=4*s+n,o=e[i][r],a=l(o,t,n);if(a)return{winner:a,winningPegs:[i,i-1,i-2,i-3]};!1===a&&(t=[])}}(e))||(t=function(e){let t=[];for(let r=0;r<4;r++)for(let s=0;s<4;s++)for(let n=0;n<4;n++){let i=4*n+s,o=e[i][r],a=l(o,t,n);if(a)return{winner:a,winningPegs:[i,i-4,i-8,i-12]};!1===a&&(t=[])}}(e))||(t=function(e){let t=[];for(let r=0;r<4;r++){for(let s=0;s<4;s++){let n=5*s,i=e[n][r],o=l(i,t,s);if(o)return{winner:o,winningPegs:[0,5,10,15]};!1===o&&(t=[])}for(let s=0;s<4;s++){let n=3*s+3,i=e[n][r],o=l(i,t,s);if(o)return{winner:o,winningPegs:[3,6,9,12]};!1===o&&(t=[])}}}(e))||(t=function(e){let t=[];for(let r=0;r<4;r++)for(let s=0;s<4;s++)for(let n=0;n<4;n++){let i=4*r+s,o=e[i][n],a=l(o,t,n);if(a)return{winner:a,winningPegs:[i]};!1===a&&(t=[])}}(e))||(t=function(e){let t=[];for(let r=0;r<4;r++){for(let s=0;s<4;s++){let n=4*r+s,i=e[n][s],o=l(i,t,s);if(o)return{winner:o,winningPegs:[n,n-1,n-2,n-3]};!1===o&&(t=[])}for(let s=0;s<4;s++){let n=4*r+s,i=e[n][3-s],o=l(i,t,s);if(o)return{winner:o,winningPegs:[n,n-1,n-2,n-3]};!1===o&&(t=[])}}}(e))||(t=function(e){let t=[];for(let r=0;r<4;r++){for(let s=0;s<4;s++){let n=4*s+r,i=e[n][s],o=l(i,t,s);if(o)return{winner:o,winningPegs:[n,n-4,n-8,n-12]};!1===o&&(t=[])}for(let s=0;s<4;s++){let n=4*s+r,i=e[n][3-s],o=l(i,t,s);if(o)return{winner:o,winningPegs:[n,n-4,n-8,n-12]};!1===o&&(t=[])}}}(e))||(t=function(e){let t=[];for(let r=0;r<2;r++)for(let s=0;s<4;s++){let n=5*s,i=0===r?e[n][3-s]:e[n][s],o=l(i,t,s);if(o)return{winner:o,winningPegs:[0,5,10,15]};!1===o&&(t=[])}for(let r=0;r<2;r++)for(let s=0;s<4;s++){let n=3*s+3,i=0===r?e[n][3-s]:e[n][s],o=l(i,t,s);if(o)return{winner:o,winningPegs:[3,6,9,12]};!1===o&&(t=[])}}(e))?t:!function(e){for(let t=0;t<16;t++)if(e[t].findIndex(e=>0===e)>-1)return!1;return!0}(e)?t:{winner:"draw",winningPegs:[],board:e}}(s);a&&(f(a.winningPegs),o(a.winner))},winningPegs:u,myTurn:d})}),i&&s.jsx("button",{className:`text-xl absolute top-1/2 p-1 border-2 rounded hover:opacity-50 ${"W"===i?"border-white":"border-black"}`,style:{right:"-130px",transform:"translateY(-50%)"},onClick:()=>{r(Array(64).fill(0)),f([]),o(""),fetch("/api",{method:"POST",body:JSON.stringify({message:{type:"new-game"},sender:"player"})})},children:"Rematch"})]})})}},9219:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var s=r(8144),n=r(7536);let i=(0,n.createProxy)(String.raw`/Users/alan/programming/score-four/src/components/Game.js`),{__esModule:o,$$typeof:l}=i,a=i.default;function u(){return s.jsx("div",{children:s.jsx(a,{hi:"hi"})})}},3881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(6885);let n=e=>{let t=(0,s.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[144,506,610,68,17],()=>r(7740));module.exports=s})();